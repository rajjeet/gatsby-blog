export const mdxBody = 'function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  "title": "Takeaways from a JavaScript Testing Conference",\n  "dateCreated": "2019-09-19",\n  "dateModified": "2019-09-29",\n  "draft": false,\n  "author": "Rajjeet",\n  "category": "Insights",\n  "image": "./EER5PxCW4AYte7P.jpg",\n  "description": "Key nuggets of knowledge from my favourite JavaScript testing conference, AssertJS 2019.",\n  "tags": ["Testing", "Conference"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn("Component " + name + " was not imported, exported, or provided by MDXProvider as global scope");\n    return mdx("div", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = "wrapper";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, ["components"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: "MDXLayout"\n  }), mdx("h3", null, "Breakthroughs"), mdx("p", null, "Making upfront architectural decisions can be costly for developer productivity, especially in the later stages of the software development lifecycle. Hard lessons are learned through implementation and failure. The root cause? Unable to predict the future. "), mdx("p", null, "Solution? Start simple. Build incrementally. Refactor rather than over-engineer prematurely. Each refactor should add value and come from the developer better understanding the nuances of the codebase. Breakthroughs, that bring massive value to codebases, come after several small refactorings. Over these small refactors, good developers intuitively understand the flow of changes and anticipate the future direction to make large profitable changes."), mdx("p", null, "As good as refactorings are, they introduce the risk of regression. In regression, previously working code breaks due to newer changes. Constant refactoring are critical for breakthroughs. For codebases to remain antifragile to refactorings, they must be built on a solid foundation of tests. Test driven development, because of the Red-Green-Refactor approach, make refactoring baked into the developer\\u2019s workflow. Thus, large downstream breakthroughs result from many small cycles of writing tests and refactorings."), mdx("h3", null, "A Culture of 800 Deployments per Day"), mdx("p", null, "Shopify, multi-channel ecommerce platform, is deploying to production 800 times a day with 83k requests per day using state-of-the-art devops tools and processes. Despite that, they emphasized that their tools and processes don\\u2019t matter. "), mdx("p", null, "Tools and processes help get the job done but the real driver for this magnitude of velocity is ", mdx("strong", {\n    parentName: "p"\n  }, "culture"), ". Shopify has a culture that gives developers high autonomy and responsibility for their work. "), mdx("p", null, "They have no QA teams, because QA is the responsibility of the developer. Once the pull request gets the green light, the developer ensures the change makes it to production without breaking. They follow their changes closely via automated monitoring tools. Everyday, 3 developers in Shopify, stop their regular duties to monitor for anomalies in operation."), mdx("p", null, "The company heavily relies on automation techniques to empower developers to take ownership of their codebase from development to production to operations.  This all stems from the fact Shopify expects its developers to be fully responsible for their decisions and actions. "), mdx("h3", null, "High Intensity Interval Testing"), mdx("p", null, "Humans are creatures of habit. They do most things in life subconsciously, even the complicated things if they become regular enough. Test-driven development (TDD) is a habit that must be developed, with exercise, practice, and understanding.\\nTDD has to become an automatic and natural way of coding. It should just happen. "), mdx("p", null, "Here\\u2019s an exercise to master TDD in 3 steps. Write a small codebase to solve some trivial problem (i.e. build a calculator)."), mdx("ol", null, mdx("li", {\n    parentName: "ol"\n  }, "Set a countdown timer for 3 minutes. Within 3 minutes, write a failing test and check it in. If one fails to write the test, reset the git branch and repeat this step. Test should show the correct failing message. "), mdx("li", {\n    parentName: "ol"\n  }, "Start another 3 minute timer to pass the test."), mdx("li", {\n    parentName: "ol"\n  }, "Now, spend another 3 minutes to refactor the code. ")), mdx("p", null, "Do these steps in a loop until all features are complete. "), mdx("h3", null, "The Power of 100%"), mdx("p", null, "Aiming for 100% test coverage can pressure developers to write testable code. It reveals dark corners of the codebase where bugs are more likely to stem from."), mdx("p", null, "This green colored 3 digit percentage shown after every commit in a devops pipeline becomes a social contract for the team to write testable code. Coupled with code reviews to maintain high test quality, 100% test coverage forces a way of thinking that yields robust software. The team, even new developers, become highly confident in modifying it for newer features and refactorings."), mdx("h3", null, "Integration Testing are Underrated"), mdx("p", null, "Integration testing is the grey area between unit tests and end-2-end (E2E) test. "), mdx("ul", null, mdx("li", {\n    parentName: "ul"\n  }, "Unit tests validate small components in full isolation"), mdx("li", {\n    parentName: "ul"\n  }, "E2E test run the full running app with all its dependencies to test"), mdx("li", {\n    parentName: "ul"\n  }, "Integration testing tests two or more connected parts of a system ")), mdx("p", null, "Unit tests are cheap and fast to write and test but offer least confidence.\\nE2E are expensive to write, test, and maintain but offer most confidence. Integration testing may seem like it\\u2019s right in the middle, but it provides the most value. "), mdx("p", null, "Here\\u2019s why integration testing is so valuable (especially against E2E): "), mdx("ul", null, mdx("li", {\n    parentName: "ul"\n  }, "written in TDD style while developing"), mdx("li", {\n    parentName: "ul"\n  }, "logically split to focus on different areas of architecture (i.e. third-party API, databases, front-end or any combinations)"), mdx("li", {\n    parentName: "ul"\n  }, "catches large issues earlier in the development lifecycle and faster to fix"), mdx("li", {\n    parentName: "ul"\n  }, "offers great balance between test flakiness and confidence")), mdx("p", null, "Side node: it\\u2019s very productive to record or capture actual test fixtures for integration testing. "), mdx("h3", null, "Science of Flakiness"), mdx("p", null, "E2E tests can sporadically pass or fail because they require many dependencies to work together in harmony to function. This sporadic behaviour referred to as flakiness. Flakiness can be caused by: "), mdx("ul", null, mdx("li", {\n    parentName: "ul"\n  }, mdx("em", {\n    parentName: "li"\n  }, "inconsistent assertion timing"), " ", mdx("ul", {\n    parentName: "li"\n  }, mdx("li", {\n    parentName: "ul"\n  }, "race conditions between assertions and the rest of the test"), mdx("li", {\n    parentName: "ul"\n  }, "add waits to asynchronous code before assertions"))), mdx("li", {\n    parentName: "ul"\n  }, mdx("em", {\n    parentName: "li"\n  }, "test depend on each other"), mdx("ul", {\n    parentName: "li"\n  }, mdx("li", {\n    parentName: "ul"\n  }, "recreate or build test fixtures between each test"))), mdx("li", {\n    parentName: "ul"\n  }, mdx("em", {\n    parentName: "li"\n  }, "E2E tests are flaky"), " ", mdx("ul", {\n    parentName: "li"\n  }, mdx("li", {\n    parentName: "ul"\n  }, "reliance on large amount of dependencies "), mdx("li", {\n    parentName: "ul"\n  }, "write more integration than E2E tests.")))), mdx("p", null, "Flakiness can be measured and tracked. This helps developers reduce the root cause for failing builds. It helps to differentiate build failure between infrastructure issues and poorly written code"), mdx("p", null, "Flakiness detection techniques can include:"), mdx("ul", null, mdx("li", {\n    parentName: "ul"\n  }, "(most okay) recording the percentage of fixed number of passed tests vs. executed runs"), mdx("li", {\n    parentName: "ul"\n  }, "(most intense) doing the above scenario many times"), mdx("li", {\n    parentName: "ul"\n  }, "(most interesting) measuring the delta between code coverage to delete variations in code flow")));\n}\n;\nMDXContent.isMDXComponent = true;';
